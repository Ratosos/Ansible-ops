name: Ansible Playbook
on: [push]

jobs:
  ansible_playbook_job:
    runs-on: ubuntu-latest
    name: Execute Sample Playbook
    steps:
      - uses: actions/checkout@v1
      - name: Execute Playbook Action Step
        id: Execution
        uses: Ratosos/docker-ansible-alpine@master
        env:
          ANSIBLE_STDOUT_CALLBACK: debug
          ANSIBLE_FORCE_COLOR: true
        with:
          playbookName: "Ansible/Playbook/create_linux.yml"
#          inventoryFile: ".ansible/inventory/local.yml"
          requirementsFile: "Ansible/requirements.yml"
#          rolesPath: ".ansible/playbooks/roles"
#          keyFile: ".ansible/random-ssh-key.pem"
#          keyFileVaultPass: ${{ secrets.KEYFILE_VAULT_PASS }}
#          extraFile: "Ansible/extra.yml"
#          extraVars: "-e my_first_extra=${{ github.actor }} -e my_second_one=${{ github.sha }}"
          verbosity: "vvv"
